import{S as x,i as J,s as K,k as $,q as A,a as S,l as T,m as w,r as I,h as g,c as y,n as te,I as le,b as P,D as m,J as Q,K as D,B as q,L as oe,M as ae,N as se,w as B,x as L,y as M,u as re,f as V,t as U,z,o as ce,O as ie}from"../../chunks/index-7c7fa373.js";import{P as ue}from"../../chunks/P5-16fb71b6.js";import{d as fe}from"../../chunks/drawing-302ee9ee.js";import{g as de,u as me}from"../../chunks/cells-998dd681.js";import{g as ne,t as X,A as he}from"../../chunks/AttractionTableComponent-9eb04794.js";function Y(o,e,a){const t=o.slice();return t[4]=e[a],t}function Z(o){let e,a=o[4].name+"",t,l,n=o[4].description+"",s,u;return{c(){e=$("option"),t=A(a),l=A(` -
                `),s=A(n),u=S(),this.h()},l(_){e=T(_,"OPTION",{});var p=w(e);t=I(p,a),l=I(p,` -
                `),s=I(p,n),u=y(p),p.forEach(g),this.h()},h(){e.__value=o[4].table,e.value=e.__value},m(_,p){P(_,e,p),m(e,t),m(e,l),m(e,s),m(e,u)},p:q,d(_){_&&g(e)}}}function _e(o){let e,a,t,l,n,s,u,_,p,b=X,f=[];for(let r=0;r<b.length;r+=1)f[r]=Z(Y(o,b,r));return{c(){e=$("div"),a=$("label"),t=A("Select a new attraction table"),l=S(),n=$("select"),s=$("option"),u=A("Random - A randomly generated table");for(let r=0;r<f.length;r+=1)f[r].c();this.h()},l(r){e=T(r,"DIV",{});var h=w(e);a=T(h,"LABEL",{for:!0});var c=w(a);t=I(c,"Select a new attraction table"),c.forEach(g),l=y(h),n=T(h,"SELECT",{});var i=w(n);s=T(i,"OPTION",{});var v=w(s);u=I(v,"Random - A randomly generated table"),v.forEach(g);for(let E=0;E<f.length;E+=1)f[E].l(i);i.forEach(g),h.forEach(g),this.h()},h(){te(a,"for","tables"),s.__value=ne(),s.value=s.__value,o[1]===void 0&&le(()=>o[2].call(n))},m(r,h){P(r,e,h),m(e,a),m(a,t),m(e,l),m(e,n),m(n,s),m(s,u);for(let c=0;c<f.length;c+=1)f[c].m(n,null);Q(n,o[1]),_||(p=[D(n,"change",o[2]),D(n,"change",o[3])],_=!0)},p(r,[h]){if(h&0){b=X;let c;for(c=0;c<b.length;c+=1){const i=Y(r,b,c);f[c]?f[c].p(i,h):(f[c]=Z(i),f[c].c(),f[c].m(n,null))}for(;c<f.length;c+=1)f[c].d(1);f.length=b.length}h&2&&Q(n,r[1])},i:q,o:q,d(r){r&&g(e),oe(f,r),_=!1,ae(p)}}}function pe(o,e,a){let t,{updateTable:l}=e;function n(){t=se(this),a(1,t)}const s=()=>l(t);return o.$$set=u=>{"updateTable"in u&&a(0,l=u.updateTable)},[l,t,n,s]}class be extends x{constructor(e){super(),J(this,e,pe,_e,K,{updateTable:0})}}function ge(o){let e,a,t,l,n,s,u=o[1].pause?"Run":"Pause",_,p,b,f,r,h,c,i,v,E,k,O,j,W;return a=new ue({props:{sketch:o[3]}}),v=new be({props:{updateTable:o[4]}}),k=new he({props:{attractionTable:o[0],onUpdateTable:o[4]}}),{c(){e=$("div"),B(a.$$.fragment),t=S(),l=$("div"),n=$("div"),s=$("button"),_=A(u),p=S(),b=$("button"),f=A("Reset cells"),r=S(),h=$("button"),c=A("Rainbow"),i=S(),B(v.$$.fragment),E=S(),B(k.$$.fragment),this.h()},l(d){e=T(d,"DIV",{class:!0});var C=w(e);L(a.$$.fragment,C),C.forEach(g),t=y(d),l=T(d,"DIV",{});var R=w(l);n=T(R,"DIV",{});var N=w(n);s=T(N,"BUTTON",{});var F=w(s);_=I(F,u),F.forEach(g),p=y(N),b=T(N,"BUTTON",{});var G=w(b);f=I(G,"Reset cells"),G.forEach(g),r=y(N),h=T(N,"BUTTON",{});var H=w(h);c=I(H,"Rainbow"),H.forEach(g),N.forEach(g),i=y(R),L(v.$$.fragment,R),E=y(R),L(k.$$.fragment,R),R.forEach(g),this.h()},h(){te(e,"class","d-flex justify-content-center")},m(d,C){P(d,e,C),M(a,e,null),P(d,t,C),P(d,l,C),m(l,n),m(n,s),m(s,_),m(n,p),m(n,b),m(b,f),m(n,r),m(n,h),m(h,c),m(l,i),M(v,l,null),m(l,E),M(k,l,null),O=!0,j||(W=[D(s,"click",o[6]),D(b,"click",o[2]),D(h,"click",o[5])],j=!0)},p(d,[C]){(!O||C&2)&&u!==(u=d[1].pause?"Run":"Pause")&&re(_,u);const R={};C&1&&(R.attractionTable=d[0]),k.$set(R)},i(d){O||(V(a.$$.fragment,d),V(v.$$.fragment,d),V(k.$$.fragment,d),O=!0)},o(d){U(a.$$.fragment,d),U(v.$$.fragment,d),U(k.$$.fragment,d),O=!1},d(d){d&&g(e),z(a),d&&g(t),d&&g(l),z(v),z(k),j=!1,ae(W)}}}const ee=32;function ve(o,e,a){let t,l,n,s;const u={pause:!1},_={x:1600,y:960},p=()=>{const i=de(_,1e3,ee);l=i.cells,n=i.cellsMap},b=()=>{u.pause===!1&&me(s,ee,l,n),setTimeout(b,1)},f=i=>{i.setup=()=>{t=i,i.createCanvas(1e3,700)},i.draw=()=>{i.background(0),fe(i,l,n.worldSize)}},r=i=>{a(0,s=i)},h=()=>{const i=["white","red","green","blue"],v=_.x/4;for(const E of l){const k=Math.floor(E.pos.x/v),O=i[k];E.color=O}};return ce(()=>{p(),a(0,s=ne()),b()}),ie(()=>{t==null||t.remove()}),[s,u,p,f,r,h,()=>a(1,u.pause=!u.pause,u)]}class $e extends x{constructor(e){super(),J(this,e,ve,ge,K,{})}}function Te(o){let e,a;return e=new $e({}),{c(){B(e.$$.fragment)},l(t){L(e.$$.fragment,t)},m(t,l){M(e,t,l),a=!0},p:q,i(t){a||(V(e.$$.fragment,t),a=!0)},o(t){U(e.$$.fragment,t),a=!1},d(t){z(e,t)}}}class Ae extends x{constructor(e){super(),J(this,e,null,Te,K,{})}}export{Ae as default};
