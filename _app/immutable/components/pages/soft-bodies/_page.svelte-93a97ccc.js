import{S as k,i as w,s as B,w as S,a as M,k as R,q as T,x as b,c as X,l as Y,m as D,r as j,h as g,y as A,b as v,D as E,K as I,B as P,f as q,t as z,z as C,Q as J}from"../../../chunks/index-f5250df5.js";import{P as K}from"../../../chunks/P5-3180d94f.js";function N(u){let s,r,n,c,o,f,d;return s=new K({props:{sketch:u[0]}}),{c(){S(s.$$.fragment),r=M(),n=R("button"),c=T("Reset")},l(a){b(s.$$.fragment,a),r=X(a),n=Y(a,"BUTTON",{});var t=D(n);c=j(t,"Reset"),t.forEach(g)},m(a,t){A(s,a,t),v(a,r,t),v(a,n,t),E(n,c),o=!0,f||(d=I(n,"click",u[1]),f=!0)},p:P,i(a){o||(q(s.$$.fragment,a),o=!0)},o(a){z(s.$$.fragment,a),o=!1},d(a){C(s,a),a&&g(r),a&&g(n),f=!1,d()}}}function O(u){const s=t=>{const{pointA:i,pointB:e,length:y}=t,{x:p,y:h}=i.pos,{x,y:m}=e.pos,l=Math.sqrt((x-p)**2+(m-h)**2),$=.1*(y-l)/l;i.acc.x-=l===0?1:(x-p)*$,i.acc.y-=l===0?1:(m-h)*$;const _=.1*(l-y)/l;e.acc.x-=l===0?1:(x-p)*_,e.acc.y-=l===0?1:(m-h)*_},r=t=>{t.pos.x<0&&(t.pos.x=1),t.pos.x>c.width&&(t.pos.x=c.width-1),t.pos.y<0&&(t.pos.y=1),t.pos.y>c.height&&(t.pos.y=c.height-1)},n=(t,i)=>{for(const e of t)e.acc={x:0,y:0};for(const e of i)s(e);for(const e of t)e.vel.x+=e.acc.x*.5,e.vel.y+=e.acc.y*.5,e.pos.x+=e.vel.x*.9,e.pos.y+=e.vel.y*.9,r(e),e.history.push({...e.pos}),e.history.length>100&&e.history.shift()};let c,o=[],f=[];const d=t=>{t.setup=()=>{c=t,t.createCanvas(500,500),t.noStroke(),t.fill(255),t.noStroke(),t.frameRate(10),a()},t.draw=()=>{t.background(0),t.mouseIsPressed&&t.mouseX>0&&t.mouseX<t.width&&t.mouseY>0&&t.mouseY<t.height&&(o[0].pos.x=t.mouseX,o[0].pos.y=t.mouseY),n(o,f);for(let i=0;i<o[0].history.length;i++)for(let e=0;e<o.length;e++){const y=o[e],p=[[255,0,0],[0,255,0],[255,255,0]][e],h=t.map(i,0,y.history.length,0,1),x=(1-Math.exp(-h))*255;t.fill([...p,x]),t.noStroke();const m=y.history[i],l=(1-Math.exp(-h))*8;t.circle(m.x,m.y,l)}}},a=()=>{o=[],o.push({id:1,pos:{x:250,y:250},vel:{x:0,y:0},acc:{x:0,y:0},history:[]}),o.push({id:2,pos:{x:150,y:250},vel:{x:0,y:0},acc:{x:0,y:0},history:[]}),o.push({id:2,pos:{x:350,y:250},vel:{x:0,y:0},acc:{x:0,y:0},history:[]}),f=[],f.push({pointA:o[0],pointB:o[1],length:100}),f.push({pointA:o[0],pointB:o[2],length:100}),f.push({pointA:o[1],pointB:o[2],length:100})};return J(()=>c?.remove()),[d,a]}class Q extends k{constructor(s){super(),w(this,s,O,N,B,{})}}function U(u){let s,r;return s=new Q({}),{c(){S(s.$$.fragment)},l(n){b(s.$$.fragment,n)},m(n,c){A(s,n,c),r=!0},p:P,i(n){r||(q(s.$$.fragment,n),r=!0)},o(n){z(s.$$.fragment,n),r=!1},d(n){C(s,n)}}}class H extends k{constructor(s){super(),w(this,s,null,U,B,{})}}export{H as default};
