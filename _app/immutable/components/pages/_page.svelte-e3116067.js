import{S as K,i as L,s as W,k as T,w as N,a as E,q as D,l as w,m as C,x as U,h as p,c as S,r as I,n as G,b as P,y as V,D as m,I as B,u as H,f as z,t as M,z as O,J as Q,K as X,B as Y}from"../../chunks/index-71905c10.js";import{P as Z,g as tt,u as et,a as at,b as st,c as nt,d as ot,e as lt}from"../../chunks/cells-8607423a.js";import{d as rt}from"../../chunks/drawing-302ee9ee.js";import{A as ct}from"../../chunks/AttractionTableComponent-88e58b1f.js";function it(c){let t,n,a,o,r,l,i=c[1].pause?"Run":"Pause",_,g,f,k,A,b,x,s,u,$,R,y;return n=new Z({props:{sketch:c[3]}}),u=new ct({props:{attractionTable:c[0],onUpdateTable:c[4]}}),{c(){t=T("div"),N(n.$$.fragment),a=E(),o=T("div"),r=T("div"),l=T("button"),_=D(i),g=E(),f=T("button"),k=D("Reset cells"),A=E(),b=T("button"),x=D("Rainbow"),s=E(),N(u.$$.fragment),this.h()},l(e){t=w(e,"DIV",{class:!0});var d=C(t);U(n.$$.fragment,d),d.forEach(p),a=S(e),o=w(e,"DIV",{});var h=C(o);r=w(h,"DIV",{});var v=C(r);l=w(v,"BUTTON",{});var q=C(l);_=I(q,i),q.forEach(p),g=S(v),f=w(v,"BUTTON",{});var j=C(f);k=I(j,"Reset cells"),j.forEach(p),A=S(v),b=w(v,"BUTTON",{});var F=C(b);x=I(F,"Rainbow"),F.forEach(p),v.forEach(p),s=S(h),U(u.$$.fragment,h),h.forEach(p),this.h()},h(){G(t,"class","d-flex justify-content-center")},m(e,d){P(e,t,d),V(n,t,null),P(e,a,d),P(e,o,d),m(o,r),m(r,l),m(l,_),m(r,g),m(r,f),m(f,k),m(r,A),m(r,b),m(b,x),m(o,s),V(u,o,null),$=!0,R||(y=[B(l,"click",c[6]),B(f,"click",c[2]),B(b,"click",c[5])],R=!0)},p(e,[d]){(!$||d&2)&&i!==(i=e[1].pause?"Run":"Pause")&&H(_,i);const h={};d&1&&(h.attractionTable=e[0]),u.$set(h)},i(e){$||(z(n.$$.fragment,e),z(u.$$.fragment,e),$=!0)},o(e){M(n.$$.fragment,e),M(u.$$.fragment,e),$=!1},d(e){e&&p(t),O(n),e&&p(a),e&&p(o),O(u),R=!1,Q(y)}}}const J=32;function ut(c,t,n){let a,o,r,l;const i={pause:!1},_={x:1600,y:960},g=()=>{const s=tt(_,1e3,J);o=s.cells,r=s.cellsMap},f=()=>{i.pause===!1&&et(l,J,o,r),setTimeout(f,1)};g(),l=at(),l=st(),l=nt(),l=ot(),l=lt(),f();const k=s=>{s.setup=()=>{a=s,s.createCanvas(1e3,700)},s.draw=()=>{s.background(0),rt(s,o,r.worldSize)}},A=s=>{n(0,l=s)},b=()=>{const s=["white","red","green","blue"],u=_.x/4;for(const $ of o){const R=Math.floor($.pos.x/u),y=s[R];$.color=y}};return X(()=>{a==null||a.remove()}),[l,i,g,k,A,b,()=>n(1,i.pause=!i.pause,i)]}class mt extends K{constructor(t){super(),L(this,t,ut,it,W,{})}}function ft(c){let t,n;return t=new mt({}),{c(){N(t.$$.fragment)},l(a){U(t.$$.fragment,a)},m(a,o){V(t,a,o),n=!0},p:Y,i(a){n||(z(t.$$.fragment,a),n=!0)},o(a){M(t.$$.fragment,a),n=!1},d(a){O(t,a)}}}class _t extends K{constructor(t){super(),L(this,t,null,ft,W,{})}}export{_t as default};
