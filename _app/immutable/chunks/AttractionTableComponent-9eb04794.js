import{S as ee,i as te,s as le,e as q,b as A,B as Z,h as _,k,q as S,a as O,l as y,m as N,r as j,c as U,n as x,D as f,K as R,L as F,M as $,p as P}from"./index-7c7fa373.js";const ae=()=>({white:{white:Math.floor(Math.random()*4-1),red:Math.floor(Math.random()*4-1),green:Math.floor(Math.random()*4-1),blue:Math.floor(Math.random()*4-1)},red:{white:Math.floor(Math.random()*4-1),red:Math.floor(Math.random()*4-1),green:Math.floor(Math.random()*4-1),blue:Math.floor(Math.random()*4-1)},green:{white:Math.floor(Math.random()*4-1),red:Math.floor(Math.random()*4-1),green:Math.floor(Math.random()*4-1),blue:Math.floor(Math.random()*4-1)},blue:{white:Math.floor(Math.random()*4-1),red:Math.floor(Math.random()*4-1),green:Math.floor(Math.random()*4-1),blue:Math.floor(Math.random()*4-1)}}),ie=[{name:"Infinite motion",description:"Some very simple patterns of reds chasing whites in a seemlingly infinite randomness",table:{white:{white:-1,red:-1,green:0,blue:-1},red:{white:2,red:-1,green:1,blue:-1},green:{white:0,red:0,green:-1,blue:-1},blue:{white:-1,red:-1,green:-1,blue:-1}}},{name:"No cohesion",description:"Cells of the same color repulse each other",table:{white:{white:-1,red:0,green:0,blue:0},red:{white:0,red:-1,green:0,blue:0},green:{white:0,red:0,green:-1,blue:0},blue:{white:0,red:0,green:0,blue:-1}}},{name:"Spray around",description:"All the cells repulse each others, resulting in an even repartition of the cells",table:{white:{white:-1,red:-1,green:-1,blue:-1},red:{white:-1,red:-1,green:-1,blue:-1},green:{white:-1,red:-1,green:-1,blue:-1},blue:{white:-1,red:-1,green:-1,blue:-1}}},{name:"Simple snake",description:"The colors attract each other in a circular manner creating some moving snakes",table:{white:{white:-1,red:-1,green:-1,blue:-1},red:{white:-1,red:-1,green:-1,blue:-1},green:{white:-1,red:-1,green:-1,blue:-1},blue:{white:-1,red:-1,green:-1,blue:-1}}},{name:"Fishes",description:"The cells regroup in moving structures with white/red head and blue/green tail swimming through the world.",table:{white:{white:0,red:1,green:-1,blue:-2},red:{white:2,red:0,green:1,blue:-1},green:{white:-2,red:-2,green:-2,blue:1},blue:{white:2,red:-1,green:1,blue:-2}}},{name:"Movers and stills",description:"Create some moving objects mainly drivent by green and red and some living but still objects made by white, blue and red. Sometimes the movers grab still objects.",table:{white:{white:1,red:-1,green:0,blue:1},red:{white:2,red:1,green:2,blue:-1},green:{white:-1,red:-1,green:1,blue:-1},blue:{white:1,red:2,green:0,blue:0}}},{name:"White pushers",description:"Create movers propelled by groups of white cells",table:{white:{white:1,red:1,green:2,blue:-1},red:{white:0,red:-1,green:2,blue:2},green:{white:-1,red:0,green:-1,blue:2},blue:{white:-1,red:1,green:1,blue:-1}}}];function W(r,t,l){const e=r.slice();return e[13]=t[l],e}function G(r,t,l){const e=r.slice();e[16]=t[l];const s=e[1].get(e[0][e[13]][e[16]]);return e[17]=s,e}function H(r,t,l){const e=r.slice();return e[17]=t[l],e}function J(r){let t,l,e,s,d,p,c,o,g,h,m,E,I,z,v,n,b,u=r[2],w=[];for(let a=0;a<u.length;a+=1)w[a]=Q(H(r,u,a));let B=r[2],M=[];for(let a=0;a<B.length;a+=1)M[a]=Y(W(r,B,a));return{c(){t=k("div"),l=k("button"),e=S("Randomize table"),s=O(),d=k("button"),p=S("Zero table"),c=O(),o=k("button"),g=S("Mutate table"),h=O(),m=k("div"),E=k("span"),I=S("Attraction"),z=O();for(let a=0;a<w.length;a+=1)w[a].c();v=O();for(let a=0;a<M.length;a+=1)M[a].c();this.h()},l(a){t=y(a,"DIV",{});var T=N(t);l=y(T,"BUTTON",{});var i=N(l);e=j(i,"Randomize table"),i.forEach(_),s=U(T),d=y(T,"BUTTON",{});var C=N(d);p=j(C,"Zero table"),C.forEach(_),c=U(T),o=y(T,"BUTTON",{});var K=N(o);g=j(K,"Mutate table"),K.forEach(_),T.forEach(_),h=U(a),m=y(a,"DIV",{class:!0});var D=N(m);E=y(D,"SPAN",{});var L=N(E);I=j(L,"Attraction"),L.forEach(_),z=U(D);for(let V=0;V<w.length;V+=1)w[V].l(D);v=U(D);for(let V=0;V<M.length;V+=1)M[V].l(D);D.forEach(_),this.h()},h(){x(m,"class","grid5cols svelte-41p0gs")},m(a,T){A(a,t,T),f(t,l),f(l,e),f(t,s),f(t,d),f(d,p),f(t,c),f(t,o),f(o,g),A(a,h,T),A(a,m,T),f(m,E),f(E,I),f(m,z);for(let i=0;i<w.length;i+=1)w[i].m(m,null);f(m,v);for(let i=0;i<M.length;i+=1)M[i].m(m,null);n||(b=[R(l,"click",r[6]),R(d,"click",r[8]),R(o,"click",r[7])],n=!0)},p(a,T){if(T&4){u=a[2];let i;for(i=0;i<u.length;i+=1){const C=H(a,u,i);w[i]?w[i].p(C,T):(w[i]=Q(C),w[i].c(),w[i].m(m,v))}for(;i<w.length;i+=1)w[i].d(1);w.length=u.length}if(T&63){B=a[2];let i;for(i=0;i<B.length;i+=1){const C=W(a,B,i);M[i]?M[i].p(C,T):(M[i]=Y(C),M[i].c(),M[i].m(m,null))}for(;i<M.length;i+=1)M[i].d(1);M.length=B.length}},d(a){a&&_(t),a&&_(h),a&&_(m),F(w,a),F(M,a),n=!1,$(b)}}}function Q(r){let t,l=r[17]+"",e;return{c(){t=k("button"),e=S(l),this.h()},l(s){t=y(s,"BUTTON",{style:!0});var d=N(t);e=j(d,l),d.forEach(_),this.h()},h(){P(t,"background-color",r[17]),t.disabled=!0},m(s,d){A(s,t,d),f(t,e)},p:Z,d(s){s&&_(t)}}}function X(r){let t,l,e,s,d,p,c,o,g,h,m;function E(){return r[10](r[13],r[16])}function I(){return r[11](r[13],r[16])}function z(){return r[12](r[13],r[16])}return{c(){t=k("span"),l=k("button"),e=S("-"),s=O(),d=k("button"),p=O(),c=k("button"),o=S("+"),g=O(),this.h()},l(v){t=y(v,"SPAN",{class:!0});var n=N(t);l=y(n,"BUTTON",{});var b=N(l);e=j(b,"-"),b.forEach(_),s=U(n),d=y(n,"BUTTON",{style:!0}),N(d).forEach(_),p=U(n),c=y(n,"BUTTON",{});var u=N(c);o=j(u,"+"),u.forEach(_),g=U(n),n.forEach(_),this.h()},h(){P(d,"background-color",r[17]),x(t,"class","grid1row3cols svelte-41p0gs")},m(v,n){A(v,t,n),f(t,l),f(l,e),f(t,s),f(t,d),f(t,p),f(t,c),f(c,o),f(t,g),h||(m=[R(l,"click",E),R(d,"click",I),R(c,"click",z)],h=!0)},p(v,n){r=v,n&1&&P(d,"background-color",r[17])},d(v){v&&_(t),h=!1,$(m)}}}function Y(r){let t,l=r[13]+"",e,s,d,p=r[2],c=[];for(let o=0;o<p.length;o+=1)c[o]=X(G(r,p,o));return{c(){t=k("button"),e=S(l),s=O();for(let o=0;o<c.length;o+=1)c[o].c();d=q(),this.h()},l(o){t=y(o,"BUTTON",{style:!0});var g=N(t);e=j(g,l),g.forEach(_),s=U(o);for(let h=0;h<c.length;h+=1)c[h].l(o);d=q(),this.h()},h(){P(t,"background-color",r[13]),t.disabled=!0},m(o,g){A(o,t,g),f(t,e),A(o,s,g);for(let h=0;h<c.length;h+=1)c[h].m(o,g);A(o,d,g)},p(o,g){if(g&63){p=o[2];let h;for(h=0;h<p.length;h+=1){const m=G(o,p,h);c[h]?c[h].p(m,g):(c[h]=X(m),c[h].c(),c[h].m(d.parentNode,d))}for(;h<c.length;h+=1)c[h].d(1);c.length=p.length}},d(o){o&&_(t),o&&_(s),F(c,o),o&&_(d)}}}function ne(r){let t,l=r[0]&&J(r);return{c(){l&&l.c(),t=q()},l(e){l&&l.l(e),t=q()},m(e,s){l&&l.m(e,s),A(e,t,s)},p(e,[s]){e[0]?l?l.p(e,s):(l=J(e),l.c(),l.m(t.parentNode,t)):l&&(l.d(1),l=null)},i:Z,o:Z,d(e){l&&l.d(e),e&&_(t)}}}function re(r,t,l){let{attractionTable:e}=t,{onUpdateTable:s}=t;const d=new Map([[-2,"#ff0000"],[-1,"#ff7d7d"],[0,"#000000"],[1,"#7dff7d"],[2,"#00ff00"]]),p=["white","red","green","blue"],c=(n,b)=>{let u=e[n][b];u++,u===3&&(u=-2),l(0,e[n][b]=u,e),s(e)},o=(n,b)=>{let u=e[n][b];u++,u===3&&(u=2),l(0,e[n][b]=u,e),s(e)},g=(n,b)=>{let u=e[n][b];u--,u===-3&&(u=-2),l(0,e[n][b]=u,e),s(e)},h=()=>{for(const n of Object.keys(e))for(const b of Object.keys(e[n])){const u=Math.floor(Math.random()*5)-2;l(0,e[n][b]=u,e)}s(e)},m=()=>{const n=Math.floor(Math.random()*p.length),b=p[n],u=Math.floor(Math.random()*p.length),w=p[u],B=Math.floor(Math.random()*5)-2;l(0,e[b][w]=B,e),s(e)},E=()=>{for(const n of Object.keys(e))for(const b of Object.keys(e[n]))l(0,e[n][b]=0,e);s(e)},I=(n,b)=>g(n,b),z=(n,b)=>c(n,b),v=(n,b)=>o(n,b);return r.$$set=n=>{"attractionTable"in n&&l(0,e=n.attractionTable),"onUpdateTable"in n&&l(9,s=n.onUpdateTable)},[e,d,p,c,o,g,h,m,E,s,I,z,v]}class se extends ee{constructor(t){super(),te(this,t,re,ne,le,{attractionTable:0,onUpdateTable:9})}}export{se as A,ae as g,ie as t};
