<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="utf-8" />
    <link rel="icon" href="./favicon.png" />
    <meta name="viewport" content="width=device-width" />
    <link rel="stylesheet" href="https://fonts.xz.style/serve/inter.css">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@exampledev/new.css@1.1.2/new.min.css">
    <meta http-equiv="content-security-policy" content="">
		<link href="./_app/immutable/assets/AttractionTableComponent-e1a75a2c.css" rel="stylesheet">
		<link rel="modulepreload" href="./_app/immutable/start-10987129.js">
		<link rel="modulepreload" href="./_app/immutable/chunks/index-71905c10.js">
		<link rel="modulepreload" href="./_app/immutable/chunks/singletons-329927b5.js">
		<link rel="modulepreload" href="./_app/immutable/chunks/preload-helper-41c905a7.js">
		<link rel="modulepreload" href="./_app/immutable/components/pages/_layout.svelte-37853c00.js">
		<link rel="modulepreload" href="./_app/immutable/modules/pages/_layout.js-9cbb603b.js">
		<link rel="modulepreload" href="./_app/immutable/chunks/_layout-da46b06b.js">
		<link rel="modulepreload" href="./_app/immutable/components/pages/webgl/_page.svelte-491a2117.js">
		<link rel="modulepreload" href="./_app/immutable/chunks/cells-8607423a.js">
		<link rel="modulepreload" href="./_app/immutable/chunks/AttractionTableComponent-88e58b1f.js">
</head>

<body data-sveltekit-preload-data="hover">
    <div style="display: contents">


<header><h1>Particles Life</h1>

    <nav><a href="/">Home</a> |
        <a href="/webgl">WebGL</a> |
        <a href="/distance">Distance test</a> |
    </nav></header>

<div><p>This is an attempt to use p5.js&#39; ability to render glsl shaders to speed up the animation.
    </p>
    <p>This is a complete failure <b>but</b> I learned things so that&#39;s cool. The principle of this
        simulation is that the neighbors detection and the position updates are still done in javascript.
        The role of the shader is only to render the different particles on the canvas.
    </p>
    <p>To do that the vertex shader is as simple as possible it just handles the position properly.
        The fragment shader is where things happen: We pass all the particles as uniforms. Since the
        shader is ran on each vertex (i.e. each pixel of the screen), for each vertex we check the
        distance of each cell to the current vertex. Based on the distance we increment the color of
        the vertex so that the particles appear.
    </p>
    <p>There are several issues with this approach:</p>
    <ul><li>Passing more than 100 or 200 uniforms to the shader seems to overload the GPU which
            drastically limits our number of particles.
        </li>
        <li>The hard calculations are not done in the shader so not parallelized so the performences
            are still not great
        </li></ul>
    <p>The approach described in
        <a href="https://gpfault.net/posts/webgl2-particles.txt.html" target="blank">this article
        </a> seems much better.
    </p></div>

<div class="d-flex justify-content-center"><div style="display: block;" class="m-0"></div></div>

<div><div><button>Pause</button>
        <button>Reset cells</button>
        <button>Rainbow</button></div>

    <div><button>Randomize table</button>
        <button>Zero table</button>
        <button>Mutate table</button></div>
    <div class="grid5cols svelte-41p0gs">
        <span>Attraction</span>
        <button style="background-color: white" disabled>white</button><button style="background-color: red" disabled>red</button><button style="background-color: green" disabled>green</button><button style="background-color: blue" disabled>blue</button>
        
        <button style="background-color: white" disabled>white</button>
            
                <span class="grid1row3cols svelte-41p0gs"><button>-</button>
                    <button style="background-color: #000000"></button>
                    <button>+</button>
                </span>
                <span class="grid1row3cols svelte-41p0gs"><button>-</button>
                    <button style="background-color: #7dff7d"></button>
                    <button>+</button>
                </span>
                <span class="grid1row3cols svelte-41p0gs"><button>-</button>
                    <button style="background-color: #ff7d7d"></button>
                    <button>+</button>
                </span>
                <span class="grid1row3cols svelte-41p0gs"><button>-</button>
                    <button style="background-color: #ff0000"></button>
                    <button>+</button>
                </span><button style="background-color: red" disabled>red</button>
            
                <span class="grid1row3cols svelte-41p0gs"><button>-</button>
                    <button style="background-color: #00ff00"></button>
                    <button>+</button>
                </span>
                <span class="grid1row3cols svelte-41p0gs"><button>-</button>
                    <button style="background-color: #000000"></button>
                    <button>+</button>
                </span>
                <span class="grid1row3cols svelte-41p0gs"><button>-</button>
                    <button style="background-color: #7dff7d"></button>
                    <button>+</button>
                </span>
                <span class="grid1row3cols svelte-41p0gs"><button>-</button>
                    <button style="background-color: #ff7d7d"></button>
                    <button>+</button>
                </span><button style="background-color: green" disabled>green</button>
            
                <span class="grid1row3cols svelte-41p0gs"><button>-</button>
                    <button style="background-color: #ff0000"></button>
                    <button>+</button>
                </span>
                <span class="grid1row3cols svelte-41p0gs"><button>-</button>
                    <button style="background-color: #ff0000"></button>
                    <button>+</button>
                </span>
                <span class="grid1row3cols svelte-41p0gs"><button>-</button>
                    <button style="background-color: #ff0000"></button>
                    <button>+</button>
                </span>
                <span class="grid1row3cols svelte-41p0gs"><button>-</button>
                    <button style="background-color: #7dff7d"></button>
                    <button>+</button>
                </span><button style="background-color: blue" disabled>blue</button>
            
                <span class="grid1row3cols svelte-41p0gs"><button>-</button>
                    <button style="background-color: #00ff00"></button>
                    <button>+</button>
                </span>
                <span class="grid1row3cols svelte-41p0gs"><button>-</button>
                    <button style="background-color: #ff7d7d"></button>
                    <button>+</button>
                </span>
                <span class="grid1row3cols svelte-41p0gs"><button>-</button>
                    <button style="background-color: #7dff7d"></button>
                    <button>+</button>
                </span>
                <span class="grid1row3cols svelte-41p0gs"><button>-</button>
                    <button style="background-color: #ff0000"></button>
                    <button>+</button>
                </span></div></div>


		<script type="module" data-sveltekit-hydrate="u91oq8">
			import { start } from "./_app/immutable/start-10987129.js";

			start({
				env: {},
				paths: {"base":"","assets":""},
				target: document.querySelector('[data-sveltekit-hydrate="u91oq8"]').parentNode,
				version: "1676228662224",
				hydrate: {
					node_ids: [0, 4],
					data: [null,null],
					form: null
				}
			});
		</script>
	</div>
</body>

<!-- Override newcss -->
<style>
    body {
        max-width: 900px;
    }

    :root {
        --nc-font-sans: 'Inter', -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, 'Open Sans', 'Helvetica Neue', sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol";
        --nc-font-mono: Consolas, monaco, 'Ubuntu Mono', 'Liberation Mono', 'Courier New', Courier, monospace;
        --is-light-theme: 1;


        /* Dark theme */
        --nc-tx-1: #FFFFFF;
        --nc-tx-2: #B7B7B7;
        --nc-tx-3: #8a8d87;
        --nc-bg-1: #1E272C;
        --nc-bg-2: #161d21;
        --nc-bg-3: #263238;
        --nc-lk-1: #5E92FF;
        --nc-lk-2: #99b2e8;
        --nc-lk-tx: #2E3C43;
        --nc-ac-1: #C3E88D;
        --nc-ac-tx: #263238;
    }
</style>

</html>
